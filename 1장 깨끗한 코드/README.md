# 깨끗한 코드

이 책을 읽는 이유는 2가지 일 것이다.
1. 프로그래머라서
2. 더 나은 프로그래머가 되기 위해서


* 코드를 최대한 다양한 각도에서 살펴보고, 
* 좋은 코드와 나쁜 코드를 구분하는 능력을 키우고, 
* 좋은 코드를 작성하는 방법도 익히며, 
* 마지막으로 나쁜 코드를 좋은 코드로 바꾸는 실력도 쌓아보자!!

---

## 코드는 사라지지 않는다.

***`코드`는 `요구사항`을 표현한 언어이다.***

코드가 사라지고 모델이나 요구사항에 집중해야 한다고 말하는 사람들이 있다. 

헛소리이다.

어느 수준에 이르면 코드만큼 요구사항을 상세하게 표현하는 수단은 없다!

추상화도 불가능하다. 코드로 정확히 명시하는 수밖에 없다.

요구사항에 더욱 가까운 언어를 만들 수도 있고, 요구사항에서 정형 구조를 뽑아내는 도구를 만들 수도 있다. 

하지만 어느 순간에는 정밀한 표현이 필요하게 되며, 그 도구가 바로 **`코드`** 이다.

---

## 나쁜 코드

나쁜 코드란 무엇일까?

* 그 답은 간단하다. 나쁜 코드란 시간이 지날수록 생산성이 떨어지는 코드를 말한다. 
* 나쁜 코드는 잘 나가는 하나의 대기업도 망하게 한다.

![생산성 대 시간](https://user-images.githubusercontent.com/56071088/112851053-8ea4af00-90e5-11eb-8b1c-6f8da8ae1752.png)

나쁜 코드는 왜 생기는 걸까?

* 급해서, 서두르느라
* 제대로 짤 시간이 없다고 생각해서
* 코드를 다듬느라 시간을 보내다가 상사한테 욕 먹을까봐
* 지겨워서 빨리 끝내려고
* 다른 업무가 너무 밀려 후딱 해치우고 밀린 업무로 넘어가려고

우리 모두가 이러한 나쁜 코드, 쓰레기 코드를 나중에 손보겠다고, 지금은 일단 돌아가니까 안돌아가는 것보다는 나으니까 스스로를 위로한 경험이 있을 것이다.

하지만 그건 우리가 `르블랑의 법칙(leblanc's Law)`의 법칙을 모른 것이다. ***`나중은 결코 오지 않는다.`***

관리자와 마케터, 사용자들의 요구사항이 어떻든 상사가 얼마나 압박하든 ***좋은 코드를 사수하는 것은 우리 프로그래머들의 책임이다.***

나쁜 코드의 위험을 감지하자 못하는 관리자의 말을 그대로 따르는 행동은 **전문가답지 못한 것이다.**

---

## 원초적 난제

프로그래머들은 누구나 나쁜 코드가 업무 속도를 늦춘다는 것을 알고 있지만, 그럼에도 모든 프로그래머들이 기한을 맞추려면 나쁜 코드를 양산할 수 밖에 없다고 한다. 한마디로, ***그들은 빨리 가려고 시간을 들이지 않는다!!***

진짜 전문가라면 기한을 맞추는 유일한 방법은 빨리 가는 유일한 방법은 ***언제나 코드를 최대한 깔끔하게 유지하는 습관이다.***

---

## 클린 코드 : 깨끗한 코드를 어떻게 작성할까?

아마 **프로그래머의 수**만큼이나 **정의도 다양할 것**이다.

1. 비야네 스트롭스트롭 : C++ 창시자이자 The C++ Programing Language 저자
    
    **우아하고 효율적이며 철저하게 오류 처리를 해야하며, 한 가지를 제대로 하는 코드**
   * 우아한 : 보기에 즐거운 코드
   * 효율적 : 속도가 빠르고, CPU 자원을 낭비하지 않는 코드
   * 철저한 오류 처리 : 세세한 사할까지 꼼꼼하게 신경 쓰자는 의미
   * 한 가지를 제대로 하는 것 : 수많은 소프트웨어 설계 원칙이 이 간단한 교훈 하나로 귀결된다. 깨끗한 코드는 한가지에 집중한다. 각 함수, 클래스, 모듈은 주변 상황에 오염되지 않은 채 한길만 걷는다.

2. 그래디 부치 : Object Oriented Analysis and Design with Application 저자 
   
   **가독성 있고 명쾌한 추상화와 단순한 제어문으로 가득한 코드**
   * 가독성 : 깨끗한 코드는 재밌는 책을 읽는 것 처럼 잘 읽혀야 한다.
   * 명쾌한 추상화 : 비슷한 단어가 여기저기에 중복해 쓰이지만 어쨌거나 의미는 강력하고 분명해야 한다.

3. 데이브 토마스 : OTI 창립자이자 이클립스 전략의 대부

   **다른 사람이 고치기 쉬우며, 테스트 케이스가 있어야 하며, 작아야 하며, 문학적인 코드**

   * 다른 사람이 고치기 쉬운 코드 : 읽기 쉬운 코드와 다른 사람이 고치기 쉬운 코드는 엄연히 다르다.
   * 작은 코드 : 큰 코드 보다 작은 코드에 가치를 둔다. 작을 수록 좋다.
   * 문학적인 코드 : 사람이 읽기 쉬운 코드


4. 마이클 패더스 : Working Effectively with Legacy Code 저자

    **주의 깊게 작성한 코드**
    * 누군가가 시간을 들여 깔끔하고 세세한 사항까지 신경 쓴 코드

5. 론 제프리스 : Extreme Programming Installed 와 Extreme Programming Adventure in C# 저자
   
   **중복을 피하라, 한 기능만 수행하라, 표현력을 높여라(의미 있는 이름), 초반 부터 간단한 추상화를 고려하라**

6. 워드 커닝햄 : 위키(Wiki) 창시자, 피트(Fit) 창시자, 익스트림 프로그래밍(eXtreme Programming) 공동 창시자, 스몰토크(Smalltalk)와 객체지향(OOP)의 정신적 지도자 등
   
   **짐작했던 기능을 그대로 수행하는 코드.** 

이렇듯 한마디로 정의하기 어렵다.

그래도 한마디로 정의해본다면..

***작고, 가독성 있고, 효율적이며, 철저하게 오류 처리를 하며, 테스트 케이스가 있고, 한가지 일만을 하고, 다른 사람이 고치기 쉬워야 하며, 중복을 피하고, 주의 깊게 작성되며, 초반부터 간단한 추상화를 고려하였고, 짐작했던 기능을 그대로 수행하는 코드***를 `클린 코드`라고 할 수 있겠다. 

---

## 우리는 저자다

Javadoc 혹은 JSDoc에서 `@author 필드`는 `저자`를 소개한다.

우리 프로그래머들은 저자다.

저자에게는 독자와 소통할 **책임**이 있다.

실제로 프로그래머들이 코딩을 하는 시간과 코드를 읽는 시간을 비교하면 1 : 10 이다.

새 코드를 짜면서 우리는 **끊임없이** 기존 코드를 읽는다.

***기존 코드를 읽기 쉽게 짜면 앞으로 자는 코드도 짜기 쉽고, 읽기 쉽게 짜게 된다.***

## 보이스카우트 규칙

***캡프장은 처음 왔을 때보다 더 깨끗하게 해놓고 떠나라***

잘 짠 코드가 전부가 아니다. 

**시간이 지나도 언제나 깨끗하게 유지하는 것**이 클린 코드이다.

* 변수의 이름 하나를 개선하고
* 조금 긴 함수 하나를 분할하고
* 약간의 중복을 제거하고
* 복잡한 if 문 하나를 정리하면 충분하다.

시간이 지날수록 코드가 좋아지는 프로젝트, `지속적인 개선`이야말로 프로그래머 전문가 정신의 본질이다!!

***`연습만이 답이다.`***








